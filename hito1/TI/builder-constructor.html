<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <meta name="description" content="Portal Ciudadano - MINVU" />
    <meta name="author" content="MINVU" />
    <title>Builder/Constructor - Portal Ciudadano MINVU</title>
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/img/logos/favico.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/img/logos/favico.png" />
    <meta name="theme-color" content="#09132D" />
    <!-- Vendors styles-->
    <link rel="stylesheet" href="../../_coreui-base/vendors/simplebar/css/simplebar.css" />
    <link rel="stylesheet" href="../../_coreui-base/css/vendors/simplebar.css" />
    <!-- Main styles for this application-->
    <link href="../../_coreui-base/css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="../../assets/css/pfud-dev.css?v=101" />

    <!-- Using CoreUI utilities from _coreui-base/css/style.css; no inline CSS allowed -->
    <script src="../../_coreui-base/js/config.js"></script>
    <script src="../../_coreui-base/js/color-modes.js"></script>
  </head>
  <body class="theme-auto theme-auto">
    <!-- top-->
    <div class="d-flex flex-column min-vh-100 bg-body">
      <header class="header header-sticky p-0 mb-2 border-0">
        <div class="w-100 bg-white border-bottom">
          <div class="container-fluid px-5">
            <div class="d-flex flex-row align-items-center justify-content-between gap-2 py-2">
              <div class="d-flex align-items-center flex-shrink-0">
                <span class="text-body-secondary small me-2 d-none d-lg-inline">Hola,</span>
                <span class="fw-semibold small d-none d-lg-inline">Dominique Chacra Gaete</span>
              </div>
              <div class="d-flex align-items-center gap-2 flex-shrink-0 ms-auto">
                <button
                  class="btn btn-outline-secondary btn-sm me-0"
                  type="button"
                  title="Disminuir tamaño de fuente"
                  onclick="adjustFontSize(-1)"
                >
                  <span class="fw-bold">A-</span>
                </button>
                <button
                  class="btn btn-outline-secondary btn-sm me-0"
                  type="button"
                  title="Aumentar tamaño de fuente"
                  onclick="adjustFontSize(1)"
                >
                  <span class="fw-bold">A+</span>
                </button>
                <div class="vr h-200 mx-1 text-body text-opacity-75 d-none d-lg-block"></div>
                <div class="dropdown">
                  <button
                    class="btn btn-link nav-link py-2 px-2 d-flex align-items-center"
                    type="button"
                    aria-expanded="false"
                    data-coreui-toggle="dropdown"
                    title="Cambiar tema"
                  >
                    <svg class="icon icon-lg theme-icon-active">
                      <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-contrast"></use>
                    </svg>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <button
                        class="dropdown-item d-flex align-items-center"
                        type="button"
                        data-coreui-theme-value="light"
                        title="Cambiar a modo claro"
                      >
                        <svg class="icon icon-lg me-3">
                          <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-sun"></use>
                        </svg>
                        Claro
                      </button>
                    </li>
                    <li>
                      <button
                        class="dropdown-item d-flex align-items-center"
                        type="button"
                        data-coreui-theme-value="dark"
                        title="Cambiar a modo oscuro"
                      >
                        <svg class="icon icon-lg me-3">
                          <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-moon"></use>
                        </svg>
                        Oscuro
                      </button>
                    </li>
                    <li>
                      <button
                        class="dropdown-item d-flex align-items-center active"
                        type="button"
                        data-coreui-theme-value="auto"
                        title="Cambiar a modo automático"
                      >
                        <svg class="icon icon-lg me-3">
                          <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-contrast"></use>
                        </svg>
                        Automático
                      </button>
                    </li>
                  </ul>
                </div>
                <div class="vr h-200 mx-1 text-body text-opacity-75 d-none d-lg-block"></div>
                <a
                  class="btn btn-link btn-sm d-inline-flex align-items-center small text-body-secondary"
                  href="#"
                  data-coreui-toggle="modal"
                  data-coreui-target="#closeConstructorModal"
                  title="Cerrar constructor"
                >
                  <svg class="me-1 align-middle" width="18" height="18" fill="currentColor">
                    <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-x"></use>
                  </svg>
                  <span>Cerrar Constructor</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </header>
      <!-- ============================= FIN TOP ============================= -->

      <!-- ============================= TITULO: Breadcrumb, Icono, Título, Botón ============================= -->
      <div class="container-fluid px-5">
        <div class="pfud-header-section">
          <!-- Fila superior: Breadcrumb -->
          <div class="row">
            <div class="col">
              <nav aria-label="breadcrumb" class="mb-2">
                <ol class="breadcrumb my-0">
                  <li class="breadcrumb-item">
                    <span>Formularios</span>
                  </li>
                  <li class="breadcrumb-item active">
                    <span>Builder/Constructor</span>
                  </li>
                </ol>
              </nav>
            </div>
          </div>
          
          <!-- Fila inferior: Icono/Título -->
          <div class="row align-items-center">
            <!-- Columna 1: Icono y Título -->
            <div class="col-auto">
              <div class="d-flex align-items-center">
                <div class="pfud-icon-circle bg-sidebar-dark">
                  <svg width="28" height="28" fill="currentColor">
                    <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-pencil"></use>
                  </svg>
                </div>
                <h1 class="h2 mb-0">Builder/Constructor</h1>
              </div>
            </div>
            
            <!-- Columna 2: En blanco -->
            <div class="col"></div>
            
            <!-- Columna 3: Botones alineados a la derecha -->
            <div class="col-auto">
              <div class="d-flex gap-2">
                <button
                  class="btn btn-outline-primary btn-sm"
                  type="button"
                  onclick="window.location.href='previsualizar.html';"
                  title="Guardar y continuar editando"
                >
                  <svg class="me-1" width="16" height="16" fill="currentColor">
                    <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-save"></use>
                  </svg>
                  Guardar y continuar
                </button>
                <button
                  class="btn btn-primary btn-sm"
                  type="button"
                  onclick="guardarCambios()"
                  title="Solicitar aprobación del formulario"
                >
                  <svg class="me-1" width="16" height="16" fill="currentColor">
                    <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-check"></use>
                  </svg>
                  Solicitar aprobación
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ============================= FIN TITULO ============================= -->

      <!-- ============================= CUERPO: Contenido Principal ============================= -->
      <div class="body flex-grow-1">
        <div class="container-fluid px-5 py-3">
          <div class="row g-3">
            <!-- Panel Izquierdo: Elementos -->
            <aside class="col-2 bg-white border-end d-flex flex-column overflow-auto">
              <div class="p-3 border-bottom">
                <ul class="nav nav-tabs border-0 flex-nowrap" role="tablist">
                  <li class="nav-item flex-fill" role="presentation">
                    <button
                      class="nav-link active w-100 text-center"
                      id="tabBloqCampos-tab"
                      data-coreui-toggle="tab"
                      data-coreui-target="#tabBloqCampos"
                      type="button"
                      role="tab"
                      aria-controls="tabBloqCampos"
                      aria-selected="true"
                    >
                      <small>Elementos</small>
                    </button>
                  </li>
                  <li class="nav-item flex-fill" role="presentation">
                    <button
                      class="nav-link w-100 text-center"
                      id="tabBloqComponentes-tab"
                      data-coreui-toggle="tab"
                      data-coreui-target="#tabBloqComponentes"
                      type="button"
                      role="tab"
                      aria-controls="tabBloqComponentes"
                      aria-selected="false"
                    >
                      <small>Grupos</small>
                    </button>
                  </li>
                </ul>
              </div>
              <div class="tab-content flex-fill overflow-auto">
                <div
                  class="tab-pane fade show active p-3"
                  id="tabBloqCampos"
                  role="tabpanel"
                  aria-labelledby="tabBloqCampos-tab"
                >
                  <div class="mb-3">
                    <input
                      type="search"
                      class="form-control form-control-sm"
                      placeholder="Buscar elemento..."
                    />
                  </div>

                  <!-- CAMPOS DE TEXTO -->
                  <h6 class="small text-body-secondary mb-3">Campos de Texto</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar texto"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-text"></use></svg>
                        <small class="text-center text-body-secondary">Texto</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de entrada"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-pencil"></use></svg>
                        <small class="text-center text-body-secondary">Input</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CAMPOS ESPECIALIZADOS -->
                  <h6 class="small text-body-secondary mb-3">Campos Especializados</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo RUT"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-contact"></use></svg>
                        <small class="text-center text-body-secondary">RUT</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo ROL"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-home"></use></svg>
                        <small class="text-center text-body-secondary">ROL</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de correo electrónico"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-envelope-closed"></use></svg>
                        <small class="text-center text-body-secondary">E-mail</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de teléfono"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-phone"></use></svg>
                        <small class="text-center text-body-secondary">Teléfono</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CAMPOS NUMÉRICOS Y MEDIDAS -->
                  <h6 class="small text-body-secondary mb-3">Campos Numéricos y Medidas</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de moneda"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-dollar"></use></svg>
                        <small class="text-center text-body-secondary">Moneda</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de metros"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-resize-both"></use></svg>
                        <small class="text-center text-body-secondary">Metros</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CAMPOS DE FECHA -->
                  <h6 class="small text-body-secondary mb-3">Campos de Fecha</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar campo de fecha"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-calendar"></use></svg>
                        <small class="text-center text-body-secondary">Fecha</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar rango de fechas"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-calendar"></use></svg>
                        <small class="text-center text-body-secondary">Fecha Desde/Hasta</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CAMPOS DE UBICACIÓN -->
                  <h6 class="small text-body-secondary mb-3">Campos de Ubicación</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar selector de regiones"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-location-pin"></use></svg>
                        <small class="text-center text-body-secondary">Regiones</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar selector de comunas"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-map"></use></svg>
                        <small class="text-center text-body-secondary">Comunas</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CAMPOS DE SELECCIÓN -->
                  <h6 class="small text-body-secondary mb-3">Campos de Selección</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar lista desplegable"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-list"></use></svg>
                        <small class="text-center text-body-secondary">Lista Desplegable</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar checkbox"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-square"></use></svg>
                        <small class="text-center text-body-secondary">Checkbox</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar radio button"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-media-record"></use></svg>
                        <small class="text-center text-body-secondary">Radio Button</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar switch"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-toggle-on"></use></svg>
                        <small class="text-center text-body-secondary">Switch</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- CONTENEDORES -->
                  <h6 class="small text-body-secondary mb-3">Contenedores</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar contenedor de sección"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-window"></use></svg>
                        <small class="text-center text-body-secondary">Contenedor Sección</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar contenedor"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-apps"></use></svg>
                        <small class="text-center text-body-secondary">Contenedor</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- ELEMENTOS DE DISEÑO -->
                  <h6 class="small text-body-secondary mb-3">Elementos de Diseño</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar separador"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-minus"></use></svg>
                        <small class="text-center text-body-secondary">Separador</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar espaciador"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-fullscreen"></use></svg>
                        <small class="text-center text-body-secondary">Espaciador</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- ELEMENTOS DE AYUDA -->
                  <h6 class="small text-body-secondary mb-3">Elementos de Ayuda</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar mensaje de ayuda"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-info"></use></svg>
                        <small class="text-center text-body-secondary">Mensaje de Ayuda</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar tooltip"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-comment-square"></use></svg>
                        <small class="text-center text-body-secondary">Tooltip</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- ELEMENTOS COMPLEJOS -->
                  <h6 class="small text-body-secondary mb-3">Elementos Complejos</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar tabla"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-grid"></use></svg>
                        <small class="text-center text-body-secondary">Tabla</small>
                      </button>
                    </div>
                  </div>
                </div>
                <div
                  class="tab-pane fade p-3"
                  id="tabBloqComponentes"
                  role="tabpanel"
                  aria-labelledby="tabBloqComponentes-tab"
                >
                  <div class="mb-3">
                    <input
                      type="search"
                      class="form-control form-control-sm"
                      placeholder="Buscar grupo..."
                    />
                  </div>
                  
                  <!-- DOCUMENTOS Y VALIDACIÓN -->
                  <h6 class="small text-body-secondary mb-3">Documentos y Validación</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar comprobante"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-file"></use></svg>
                        <small class="text-center text-body-secondary">Comprobante</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar timbre y firma DOM"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-badge"></use></svg>
                        <small class="text-center text-body-secondary">Timbre y Firma DOM</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- INFORMACIÓN Y AYUDA -->
                  <h6 class="small text-body-secondary mb-3">Información y Ayuda</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar glosario"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-book"></use></svg>
                        <small class="text-center text-body-secondary">Glosario</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- DATOS DE PERSONAS -->
                  <h6 class="small text-body-secondary mb-3">Datos de Personas</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar datos personales"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-user"></use></svg>
                        <small class="text-center text-body-secondary">Datos personales</small>
                      </button>
                    </div>
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar datos de intervinientes"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-people"></use></svg>
                        <small class="text-center text-body-secondary">Datos de intervinientes</small>
                      </button>
                    </div>
                  </div>
                  <hr class="my-3" />

                  <!-- DATOS DE INMUEBLES -->
                  <h6 class="small text-body-secondary mb-3">Datos de Inmuebles</h6>
                  <div class="row g-1 mb-3">
                    <div class="col-6">
                      <button
                        class="btn btn-ghost-secondary w-100 d-flex flex-column align-items-center justify-content-center p-2"
                        draggable="true"
                        title="Agregar datos de la propiedad"
                      >
                        <svg class="icon text-primary fs-5 mb-1"><use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-home"></use></svg>
                        <small class="text-center text-body-secondary">Datos de la propiedad</small>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </aside>
            <!-- Panel Central: Canvas -->
            <main class="col-8 d-flex flex-column">
              <div class="bg-white border-bottom p-3 mb-3">
                <span class="text-body d-block mb-2">Titulo</span>
                <hr>
                <div class="d-flex align-items-center gap-3">
                  <span class="badge bg-form1">2-5.2</span>
                  <h5 class="mb-0">Solicitud de Modificación de Proyecto de Edificación, Ampliación Mayor a 100 m2</h5>
                </div>
              </div>
              <div class="d-flex justify-content-center">
                <div class="bg-white border rounded shadow-sm p-5 w-100 mw-100" id="formCanvas">
                  <div class="mb-3">
                    <input type="text" class="form-control text-center fw-semibold" value="SECCION 1" disabled />
                  </div>
                  <div class="border rounded p-5" style="min-height: 300px;">
                    <!-- Área de construcción del formulario -->
                  </div>
                  <div class="d-flex align-items-center gap-3 my-4">
                    <hr class="flex-grow-1" />
                    <button class="btn btn-outline-secondary btn-sm" disabled>
                      <svg class="icon me-1" width="16" height="16" fill="currentColor">
                        <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-plus"></use>
                      </svg>
                      AGREGAR NUEVA SECCIÓN
                    </button>
                    <hr class="flex-grow-1" />
                  </div>
                </div>
              </div>
            </main>
            <!-- Panel Derecho: Propiedades -->
            <aside class="col-2 bg-white border-start d-flex flex-column">
              <div class="p-3 border-bottom">
                <ul class="nav nav-tabs border-0 flex-nowrap" role="tablist">
                  <li class="nav-item flex-fill" role="presentation">
                    <button
                      class="nav-link active w-100 text-center small"
                      data-coreui-toggle="tab"
                      data-coreui-target="#tabPropDocumento"
                      type="button"
                      role="tab"
                      title="Ver propiedades del documento"
                    >
                      Propiedades
                    </button>
                  </li>
                  <li class="nav-item flex-fill" role="presentation">
                    <button
                      class="nav-link w-100 text-center small"
                      data-coreui-toggle="tab"
                      data-coreui-target="#tabPropBloque"
                      type="button"
                      role="tab"
                      title="Ver propiedades del bloque"
                    >
                      Formulario
                    </button>
                  </li>
                </ul>
              </div>
              <div class="tab-content flex-grow-1 overflow-auto">
                <div class="tab-pane fade show active p-3" id="tabPropDocumento" role="tabpanel">
                  <div class="mb-3">
                    <label for="nombreStepper" class="form-label small text-body-secondary">
                      Nombre en Stepper
                    </label>
                    <input type="text" class="form-control form-control-sm" id="nombreStepper" value="SECCIÓN 1" placeholder="Máximo de caracteres Altas y Bajas" />
                  </div>
                  
                  <div class="mb-3">
                    <label for="descripcionSeccion" class="form-label small text-body-secondary">
                      Descripción
                    </label>
                    <textarea class="form-control form-control-sm" id="descripcionSeccion" rows="3" placeholder="Solo se registra, no se publica en ninguna parte.">Breve descripción de la sección, qué hace y para qué sirve.</textarea>
                  </div>
                </div>
                <div class="tab-pane fade p-3" id="tabPropBloque" role="tabpanel">
                  <h6 class="fw-semibold mb-3">Propiedades del Formulario</h6>
                  <hr />
                  <div class="mb-3">
                    <label for="nombreFormulario" class="form-label small text-body-secondary">
                      Nombre del formulario
                    </label>
                    <input type="text" class="form-control form-control-sm" id="nombreFormulario" value="Solicitud de Modificación de Proyecto de Edificación, Ampliación Mayor a 100 m2" />
                  </div>

                  <div class="mb-3">
                    <label for="grupoFormulario" class="form-label small text-body-secondary">
                      Grupo
                    </label>
                    <select class="form-select form-select-sm" id="grupoFormulario">
                      <option value="">Selecciona un Grupo</option>
                      <option value="1">1 – Formularios de Permisos de Obra Menor</option>
                      <option value="2" selected>2 – Formularios de Permisos de Edificación</option>
                      <option value="3">3 – Formularios Subdivisión y Urbanización</option>
                      <option value="4">4 – Formularios División del Suelo y Condominios con afectación a Utilidad Pública</option>
                      <option value="5">5 – Formularios de Solicitudes y Certificaciones Varias</option>
                      <option value="6">6 – Formularios de Regularización de Viviendas Sociales (Ley 20.671 y sus modificaciones)</option>
                      <option value="7">7 – Encuesta Edificación INE</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="familiaFormulario" class="form-label small text-body-secondary">
                      Familia
                    </label>
                    <select class="form-select form-select-sm" id="familiaFormulario">
                      <option value="">Selecciona una familia</option>
                      <option value="anteproyecto">Anteproyecto</option>
                      <option value="proyecto">Proyecto</option>
                      <option value="modificacion" selected>Modificación del Proyecto</option>
                      <option value="recepcion">Recepción Definitiva</option>
                    </select>
                  </div>

                  <div class="mb-3">
                    <label for="normaFormulario" class="form-label small text-body-secondary">
                      Norma
                    </label>
                    <input type="text" class="form-control form-control-sm" id="normaFormulario" placeholder="Indica la Norma que justifica este documento" />
                  </div>

                  <div class="mb-3">
                    <label class="form-label small text-body-secondary">Vigencia</label>
                    <div class="form-check mb-2">
                      <input class="form-check-input" type="checkbox" id="vigenciaFija" />
                      <label class="form-check-label small" for="vigenciaFija">
                        Formulario tiene vigencia fija
                      </label>
                    </div>
                    <input
                      type="date"
                      class="form-control form-control-sm"
                      id="fechaTermino"
                      title="Fecha término de vigencia"
                    />
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
      <!-- ============================= FIN CUERPO ============================= -->

      <!-- ============================= FOOT: Pie de Página ============================= -->
      <footer class="footer px-4">
        <div class="d-flex justify-content-between align-items-center w-100 small">
          <div class="small">MINVU © 2026 MINISTERIO DE VIVIENDA Y URBANISMO</div>
          <div>
            <span class="border border-1 rounded px-3 py-1 text-secondary bg-transparent d-inline-flex align-items-center">
              <span class="small">VERSIÓN 2.1</span>
            </span>
          </div>
        </div>
      </footer>
      <!-- ============================= FIN FOOT ============================= -->

    </div>
    <!-- ============================= FIN LAYOUT ============================= -->

    <!-- Scroll to top button -->
    <button
      id="scrollTopBtn"
      class="btn btn-primary position-fixed bottom-0 end-0 m-4 rounded-circle"
      title="Volver arriba"
    >
      <svg width="20" height="20" fill="currentColor">
        <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-arrow-top"></use>
      </svg>
    </button>
      <!-- Toast Container -->
      <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="successToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header bg-primary text-white">
            <svg class="me-2" width="16" height="16" fill="currentColor">
              <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-check-circle"></use>
            </svg>
            <strong class="me-auto">Éxito</strong>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-coreui-dismiss="toast"
              title="Close"
            ></button>
          </div>
          <div class="toast-body">Cambios guardados con éxito.</div>
        </div>
      </div>
      <!-- Botón scroll to top -->
      <button
        type="button"
        class="btn btn-primary position-fixed bottom-0 end-0 m-4 d-none pfud-btn-float"
        id="scrollToTop"
        title="Volver arriba"
      >
        <svg width="20" height="20" fill="currentColor">
          <use xlink:href="../../_coreui-base/vendors/@coreui/icons/svg/free.svg#cil-arrow-top"></use>
        </svg>
      </button>

      <!-- Modal Cerrar Constructor -->
      <div class="modal fade" id="closeConstructorModal" tabindex="-1" aria-labelledby="closeConstructorModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="closeConstructorModalLabel">Cerrar Constructor</h5>
              <button type="button" class="btn-close" data-coreui-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
              <p>¿Deseas guardar los cambios antes de cerrar el constructor?</p>
              <p class="text-body-secondary small mb-0">Si cierras sin guardar, perderás todos los cambios realizados desde la última vez que guardaste.</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" onclick="cerrarSinGuardar()">Cerrar sin guardar</button>
              <button type="button" class="btn btn-primary" onclick="guardarYCerrar()">Guardar y cerrar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- CoreUI and necessary plugins-->
      <script src="../../_coreui-base/vendors/@coreui/coreui/js/coreui.bundle.min.js"></script>
      <script src="../../_coreui-base/vendors/simplebar/js/simplebar.min.js"></script>
      <script src="../../_coreui-base/vendors/@coreui/utils/js/index.js"></script>
      <script src="../../_coreui-base/js/main.js"></script>
      <script src="../../assets/js/pfud.js"></script>
      <script>
        // Scroll to top button
        const scrollToTopBtn = document.getElementById('scrollToTop');
        window.addEventListener('scroll', function() {
          if (window.scrollY > 300) {
            scrollToTopBtn.classList.remove('d-none');
          } else {
            scrollToTopBtn.classList.add('d-none');
          }
        });
        scrollToTopBtn.addEventListener('click', function() {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Funciones para cerrar constructor
        function cerrarSinGuardar() {
          window.close();
          // Si window.close() no funciona (navegador bloquea el cierre), redirigir
          setTimeout(function() {
            window.location.href = 'dashboard.html';
          }, 100);
        }

        function guardarYCerrar() {
          // Aquí iría la lógica de guardado
          guardarCambios();
          // Cerrar después de guardar
          setTimeout(function() {
            window.close();
            // Si window.close() no funciona, redirigir
            setTimeout(function() {
              window.location.href = 'dashboard.html';
            }, 100);
          }, 500);
        }

        function guardarCambios() {
          // Lógica de guardado (simulada)
          console.log('Guardando cambios...');
        }
      </script>
  </body>
</html>
